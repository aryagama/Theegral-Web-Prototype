<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Theegral Website</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }

    body {
      background: #fff;
      color: #000;
      overflow-x: hidden;
      padding-top: 100px;
      transition: all 0.3s ease;
      opacity: 0; /* Awalnya tersembunyi */
      animation: fadeIn 1.5s ease forwards; /* Animasi fade in saat halaman dimuat */
    }

    /* Animasi fade in untuk seluruh halaman */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Header */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 80px;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #fff;
      z-index: 1000;
      transition: all 0.3s ease;
      opacity: 0; /* Awalnya tersembunyi */
      animation: fadeInDown 1s ease 0.5s forwards; /* Animasi fade in dengan delay */
    }

    /* Animasi fade in dari atas untuk header */
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    header nav {
      position: absolute;
      right: 40px;
    }

    header nav a {
      margin-left: 15px;
      padding: 8px 16px; /* Sedikit diperbesar */
      border-radius: 20px; /* Membuat bentuk oval */
      background: #F4E8A8;
      text-decoration: none;
      color: black;
      font-size: 14px;
      font-weight: 500; /* Teks sedikit lebih bold */
      border: 1px solid #d4cfa5; /* Stroke/tambahkan border */
      transition: all 0.3s ease; /* Efek transisi halus */
      opacity: 0;
      animation: fadeIn 0.8s ease 1s forwards;
      font-family: Arial, sans-serif; /* Font default Arial */
    }

    /* PERUBAHAN: Efek hover HANYA mengubah font (tidak ada transform) */
    header nav a:hover {
      background: #DDCDFB;
      border-color: #000000;
      /* transform: translateY(-2px); DIHAPUS - tombol diam saja */
      font-family: "Times New Roman", Times, serif; /* Font Times New Roman */
      font-style: italic; /* Italic */
      font-size: 14px;
    }

    header .logo img {
      height: 40px;
      opacity: 0; /* Awalnya tersembunyi */
      animation: fadeIn 0.8s ease 0.8s forwards; /* Animasi fade in dengan delay */
    }

    /* Hero */
    .hero {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
      flex-direction: column;
      overflow: hidden;
    }

    /* PERUBAHAN: Teks naik lebih tinggi */
    #finalText {
      font-size: 48px;
      max-width: 900px;
      text-align: center;
      line-height: 1.3;
      white-space: pre-line;
      opacity: 0;
      position: relative;
      top: -80px; /* Dinaikkan lebih tinggi */
      min-height: 200px;
      animation: fadeInUp 1.2s ease 1.2s forwards; /* Animasi fade in dengan delay */
    }

    /* Animasi fade in dari bawah untuk teks utama */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* PERUBAHAN: Efek cursor berkedip */
    .cursor {
      display: inline-block;
      width: 3px;
      background-color: #000;
      margin-left: 2px;
      animation: blink 1s infinite;
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }

    /* Floating posters */
    .poster-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: -1;
    }

    .poster {
      position: absolute;
      width: 200px;
      opacity: 0.25;
      transition: transform 0.2s ease-out;
      opacity: 0; /* Awalnya tersembunyi */
      animation: fadeIn 1s ease 0.7s forwards; /* Animasi fade in dengan delay */
    }

    /* PERUBAHAN: Tombol dengan stroke oval */
    #visibilityBtn {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: transparent;
      border: none;
      cursor: pointer;
      z-index: 2000;
      padding: 5px;
      opacity: 0; /* Awalnya tersembunyi */
      animation: fadeIn 0.8s ease 1.5s forwards; /* Animasi fade in dengan delay */
    }

    #visibilityBtn img {
      width: 60px;
      height: 60px;
    }

    /* Cards */
    .cards {
      background: #f7f7f7;
      padding: 40px;
      opacity: 0; /* Awalnya tersembunyi */
      animation: fadeIn 1s ease 1.8s forwards; /* Animasi fade in dengan delay */
    }

    .filter {
      margin-bottom: 20px;
      opacity: 0; /* Awalnya tersembunyi */
      animation: fadeIn 0.8s ease 2s forwards; /* Animasi fade in dengan delay */
    }

    .filter button {
      margin-right: 8px;
      padding: 6px 12px;
      border: none;
      border-radius: 12px;
      background: #e3dff8;
      cursor: pointer;
      opacity: 0; /* Awalnya tersembunyi */
      animation: fadeIn 0.6s ease 2.2s forwards; /* Animasi fade in dengan delay */
    }

    .card-list {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 30px;
    }

    .card {
      background: none;
      opacity: 0; /* Awalnya tersembunyi */
      animation: fadeInUp 0.8s ease 2.4s forwards; /* Animasi fade in dengan delay */
      transition: all 0.3s ease; /* PERUBAHAN: Tambahkan transisi */
    }

    /* Animasi berurutan untuk setiap card */
    .card:nth-child(1) {
      animation-delay: 2.4s;
    }
    .card:nth-child(2) {
      animation-delay: 2.6s;
    }
    .card:nth-child(3) {
      animation-delay: 2.8s;
    }

    .image-container {
      position: relative;
      overflow: hidden;
    }

    .image-container img {
      width: 100%;
      display: block;
      border-radius: 1px;
      transition:transform 0.4s ease;
    }

    .image-container .tag {
      position: absolute;
      top: 10px;
      right: 10px;  /* <--- ganti ke kanan */
      background: #F4E8A8;
      padding: 4px 10px;
      border-radius: 20px;
      border: #000;
      font-size: 12px;
      font-weight: lighter;
      transition: all 0.3s ease; /* PERUBAHAN: Tambahkan transisi */
    }

    .card p {
      font-size: 14px;
      margin: 10px 0 4px;
      transition: all 0.3s ease; /* PERUBAHAN: Tambahkan transisi */
    }

    .card .date {
      font-size: 12px;
      color: gray;
      transition: all 0.3s ease; /* PERUBAHAN: Tambahkan transisi */
    }

    /* PERUBAHAN: Efek saat hover pada card */
    .card:hover .image-container img {
      transform: scale(1.05); /* Sedikit zoom pada gambar */
    }

    .card:hover .image-container .tag,
    .card:hover p,
    .card:hover .date {
      opacity: 1; /* Tetap terlihat */
    }

    /* PERUBAHAN: Efek saat hover pada card lain (yang tidak dihover) */
    .card-list:hover .card:not(:hover) .image-container .tag,
    .card-list:hover .card:not(:hover) p,
    .card-list:hover .card:not(:hover) .date {
      opacity: 0.3; /* Menjadi transparan */
    }

    /* Footer */
    footer {
      padding: 20px 40px;
      background: #f7f7f7;
      border-top: 1px solid #ddd;
      opacity: 0; /* Awalnya tersembunyi */
      animation: fadeIn 0.8s ease 3s forwards; /* Animasi fade in dengan delay */
    }

    .footer-content {
      display: flex;
      justify-content: flex-end;
      gap: 20px;
      font-size: 12px;
      color: #333;
      text-align: right;
      width: 100%;
    }

    .footer-column h4 {
      font-weight: reguler;
      margin-bottom: 8px;
      font-size: 14px;
    }

    .footer-column p {
      margin: 4px 0;
    }

    .footer-content a {
      color: black;
      text-decoration: underline;
      font-size: 12px;
    }

    /* Accessibility Panel */
    #accessibilityPanel {
      position: fixed;
      bottom: 110px;
      left: 20px;
      width: 320px;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
      padding: 20px;
      z-index: 1999;
      display: none;
      flex-direction: column;
      gap: 15px;
      max-height: 70vh;
      overflow-y: auto;
      border: 1px solid #e0e0e0;
      opacity: 0; /* Awalnya tersembunyi */
      transform: translateY(20px);
      transition: opacity 0.3s ease, transform 0.3s ease; /* Transisi saat muncul */
    }

    #accessibilityPanel.show {
      opacity: 1;
      transform: translateY(0);
    }

    #accessibilityPanel h3 {
      margin-bottom: 10px;
      font-size: 20px;
      color: #333;
      text-align: center;
    }

    .accessibility-option {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid #f0f0f0;
    }

    .accessibility-option:last-child {
      border-bottom: none;
    }

    .accessibility-option label {
      font-size: 14px;
      cursor: pointer;
      font-weight: 500;
    }

    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 24px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 24px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: #2196F3;
    }

    input:checked + .slider:before {
      transform: translateX(26px);
    }

    select {
      padding: 6px 12px;
      border-radius: 8px;
      border: 1px solid #ddd;
      background: #fff;
      font-size: 14px;
      min-width: 120px;
    }

    .slider-container {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .slider-container input {
      flex: 1;
    }

    .slider-value {
      min-width: 30px;
      text-align: center;
    }

    /* Accessibility Styles */
    /* Dark Mode */
    body.dark-mode {
      background: #121212;
      color: #f0f0f0;
    }

    body.dark-mode header {
      background: #1e1e1e;
    }

    body.dark-mode .cards {
      background: #1e1e1e;
    }

    body.dark-mode footer {
      background: #1e1e1e;
      border-top: 1px solid #333;
    }

    body.dark-mode .filter button {
      background: #333;
      color: #f0f0f0;
    }

    body.dark-mode header nav a {
      background: #333;
      color: #f0f0f0;
    }

    body.dark-mode #accessibilityPanel {
      background: #1e1e1e;
      color: #f0f0f0;
      border: 1px solid #333;
    }

    body.dark-mode #accessibilityPanel select {
      background: #333;
      color: #f0f0f0;
      border: 1px solid #555;
    }

    /* High Contrast */
    body.high-contrast {
      background: #000;
      color: #fff;
    }

    body.high-contrast header {
      background: #000;
    }

    body.high-contrast .cards {
      background: #000;
    }

    body.high-contrast footer {
      background: #000;
      border-top: 2px solid #fff;
    }

    body.high-contrast .filter button {
      background: #fff;
      color: #000;
      border: 1px solid #fff;
    }

    body.high-contrast header nav a {
      background: #fff;
      color: #000;
      border: 1px solid #fff;
    }

    body.high-contrast .image-container .tag {
      background: #fff;
      color: #000;
    }

    /* Dyslexia Font */
    body.dyslexia-mode {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      line-height: 1.6;
      letter-spacing: 1px;
    }

    /* Reduced Motion */
    body.reduced-motion * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }

    /* Color Blind Modes */
    body.protanopia {
      filter: url(#protanopia);
    }

    body.deuteranopia {
      filter: url(#deuteranopia);
    }

    body.tritanopia {
      filter: url(#tritanopia);
    }

    /* Magnification */
    body.magnified {
      zoom: 1.5;
    }

    /* Keyboard Navigation Focus */
    body.keyboard-navigation a:focus,
    body.keyboard-navigation button:focus,
    body.keyboard-navigation input:focus,
    body.keyboard-navigation select:focus {
      outline: 3px solid #2196F3;
      outline-offset: 2px;
    }

    /* Text to Speech Controls */
    #ttsControls {
      display: none;
      position: fixed;
      top: 20px;
      right: 20px;
      background: #fff;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      z-index: 2001;
    }

    #ttsControls button {
      margin: 0 5px;
      padding: 5px 10px;
      border: none;
      border-radius: 4px;
      background: #f0f0f0;
      cursor: pointer;
    }

    /* Language Styles */
    body.indonesian .english-text {
      display: none;
    }

    body.english .indonesian-text {
      display: none;
    }

    /* Close Button */
    .close-panel {
      position: absolute;
      top: 10px;
      right: 15px;
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: #666;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }

    .close-panel:hover {
      background: #f0f0f0;
    }
  </style>
</head>
<body>
  <!-- Text to Speech Controls -->
  <div id="ttsControls">
    <button id="playTTS">Play</button>
    <button id="pauseTTS">Pause</button>
    <button id="stopTTS">Stop</button>
    <select id="voiceSelect"></select>
    <input type="range" id="rateControl" min="0.5" max="2" step="0.1" value="1">
  </div>

  <!-- Color Blind Filters (SVG) -->
  <svg width="0" height="0">
    <defs>
      <filter id="protanopia">
        <feColorMatrix type="matrix" values="0.567, 0.433, 0, 0, 0 0.558, 0.442, 0, 0, 0 0, 0.242, 0.758, 0, 0 0, 0, 0, 1, 0"></feColorMatrix>
      </filter>
      <filter id="deuteranopia">
        <feColorMatrix type="matrix" values="0.625, 0.375, 0, 0, 0 0.7, 0.3, 0, 0, 0 0, 0.3, 0.7, 0, 0 0, 0, 0, 1, 0"></feColorMatrix>
      </filter>
      <filter id="tritanopia">
        <feColorMatrix type="matrix" values="0.95, 0.05, 0, 0, 0 0, 0.433, 0.567, 0, 0 0, 0.475, 0.525, 0, 0 0, 0, 0, 1, 0"></feColorMatrix>
      </filter>
    </defs>
  </svg>

  <!-- Header -->
  <header>
    <div class="logo">
      <img src="Logo Theegral.svg" alt="Theegral Logo">
    </div>
    <nav>
      <a href="#">Work</a>
      <a href="#">Journal</a>
      <a href="#">About</a>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <!-- Posters background -->
    <div class="poster-container">
      <img src="BUSIAN.jpg" class="poster" style="top:10%; left:15%;">
      <img src="BURDEN.jpg" class="poster" style="top:40%; left:70%;">
      <img src="TRIBUN.jpg" class="poster" style="top:70%; left:30%;">
    </div>

    <!-- Main text -->
    <div id="finalText"></div>
  </section>

  <!-- Cards Section -->
  <section class="cards">
    <div class="filter">
      <button>All</button>
      <button>Data</button>
      <button>Digital</button>
      <button>Tools</button>
      <button>More</button>
    </div>

    <div class="card-list">
      <div class="card">
        <div class="image-container">
          <img src="TRIBUN.jpg" alt="Project 1">
          <span class="tag">Work</span>
        </div>
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
        <span class="date">Sep 2024</span>
      </div>

      <div class="card">
        <div class="image-container">
          <img src="BUSIAN.jpg" alt="Project 2">
          <span class="tag">Journal</span>
        </div>
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
        <span class="date">Sep 2024</span>
      </div>

      <div class="card">
        <div class="image-container">
          <img src="BURDEN.jpg" alt="Project 3">
          <span class="tag">Work</span>
        </div>
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
        <span class="date">Sep 2024</span>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <p>Instagram:
        <a href="https://instagram.com/theegral" target="_blank">@theegral</a></p>
      <p>Email: <a href="mailto:theegral@gmail.com">theegral@gmail.com</a></p>
      <p>Currently: <span id="clock"></span></p>
    </div>
  </footer>

  <!-- Visibility button dengan rover.gif -->
  <button id="visibilityBtn">
    <img src="rover.gif" alt="Accessibility Settings">
  </button>

  <!-- Accessibility Panel -->
  <div id="accessibilityPanel">
    <button class="close-panel">&times;</button>
    <h3>Accessibility Settings</h3>
    
    <div class="accessibility-option">
      <label for="lightDark">Light/Dark Mode</label>
      <select id="lightDark">
        <option value="light">Light</option>
        <option value="dark">Dark</option>
      </select>
    </div>
    
    <div class="accessibility-option">
      <label for="highContrast">High Contrast</label>
      <div class="toggle-switch">
        <input type="checkbox" id="highContrast">
        <span class="slider"></span>
      </div>
    </div>
    
    <div class="accessibility-option">
      <label for="dyslexia">Dyslexia-Friendly Font</label>
      <div class="toggle-switch">
        <input type="checkbox" id="dyslexia">
        <span class="slider"></span>
      </div>
    </div>
    
    <div class="accessibility-option">
      <label for="textToSpeech">Text-to-Speech</label>
      <div class="toggle-switch">
        <input type="checkbox" id="textToSpeech">
        <span class="slider"></span>
      </div>
    </div>
    
    <div class="accessibility-option">
      <label for="magnification">Magnification</label>
      <div class="toggle-switch">
        <input type="checkbox" id="magnification">
        <span class="slider"></span>
      </div>
    </div>
    
    <div class="accessibility-option">
      <label for="keyboardNav">Keyboard Navigation</label>
      <div class="toggle-switch">
        <input type="checkbox" id="keyboardNav">
        <span class="slider"></span>
      </div>
    </div>
    
    <div class="accessibility-option">
      <label for="reducedMotion">Reduced Motion</label>
      <div class="toggle-switch">
        <input type="checkbox" id="reducedMotion">
        <span class="slider"></span>
      </div>
    </div>
    
    <div class="accessibility-option">
      <label for="colorBlind">Color Blind Mode</label>
      <select id="colorBlind">
        <option value="none">None</option>
        <option value="protanopia">Protanopia</option>
        <option value="deuteranopia">Deuteranopia</option>
        <option value="tritanopia">Tritanopia</option>
      </select>
    </div>
    
    <div class="accessibility-option">
      <label for="language">Language</label>
      <select id="language">
        <option value="english">English</option>
        <option value="indonesian">Bahasa Indonesia</option>
      </select>
    </div>
  </div>

  <script>
    // PERUBAHAN: Efek ketik yang lebih smooth dengan cursor
    const finalTextEl = document.getElementById("finalText");
    const textContent = "WE SEE EVERY CORNER\nIN BETWEEN HAS A\nMAIN CORE.";
    let i = 0;
    let lineCount = 0;
    
    function typeWriter() {
      if (i < textContent.length) {
        // Handle new lines
        if (textContent.charAt(i) === '\n') {
          finalTextEl.innerHTML += '<br>';
          lineCount++;
          // Tambahkan delay lebih lama untuk pergantian baris
          setTimeout(typeWriter, 200);
        } else {
          finalTextEl.innerHTML += textContent.charAt(i);
          // Tambahkan cursor berkedip
          finalTextEl.innerHTML = finalTextEl.innerHTML.replace(/<span class="cursor"><\/span>/, '');
          finalTextEl.innerHTML += '<span class="cursor"></span>';
        }
        i++;
        // Kecepatan ketik bervariasi untuk efek lebih natural
        const speed = Math.random() * 50 + 30; // 30-80ms per karakter
        setTimeout(typeWriter, speed);
      } else {
        // Hapus cursor setelah selesai
        finalTextEl.innerHTML = finalTextEl.innerHTML.replace(/<span class="cursor"><\/span>/, '');
        finalTextEl.style.opacity = 1;
      }
    }

    // Posters repel + parallax
    const posters = document.querySelectorAll(".poster");
    document.addEventListener("mousemove", (e) => {
      posters.forEach(poster => {
        const rect = poster.getBoundingClientRect();
        const dx = e.clientX - (rect.left + rect.width / 2);
        const dy = e.clientY - (rect.top + rect.height / 2);
        const dist = Math.sqrt(dx * dx + dy * dy);
        const moveX = -dx / dist * 20;
        const moveY = -dy / dist * 20;
        poster.style.transform = `translate(${moveX}px, ${moveY}px)`;
      });
    });

    // Clock WIB (GMT+7)
    function updateClock() {
      const clockEl = document.getElementById("clock");
      const now = new Date();
      const options = {
        timeZone: "Asia/Jakarta",
        hour: "2-digit",
        minute: "2-digit",
        second: "2-digit"
      };
      clockEl.textContent = now.toLocaleTimeString("id-ID", options) + " WIB";
    }

    // Accessibility Panel Toggle
    const visibilityBtn = document.getElementById("visibilityBtn");
    const accessibilityPanel = document.getElementById("accessibilityPanel");
    const closePanelBtn = document.querySelector(".close-panel");

    visibilityBtn.addEventListener("click", function(e) {
      e.stopPropagation();
      if (accessibilityPanel.classList.contains("show")) {
        accessibilityPanel.classList.remove("show");
        setTimeout(() => {
          accessibilityPanel.style.display = "none";
        }, 300); // Sesuaikan dengan durasi transisi
      } else {
        accessibilityPanel.style.display = "flex";
        // Trigger reflow untuk memastikan animasi berjalan
        void accessibilityPanel.offsetWidth;
        accessibilityPanel.classList.add("show");
      }
    });

    closePanelBtn.addEventListener("click", function() {
      accessibilityPanel.classList.remove("show");
      setTimeout(() => {
        accessibilityPanel.style.display = "none";
      }, 300); // Sesuaikan dengan durasi transisi
    });

    // Close panel when clicking outside
    document.addEventListener("click", function(e) {
      if (!accessibilityPanel.contains(e.target) && e.target !== visibilityBtn) {
        accessibilityPanel.classList.remove("show");
        setTimeout(() => {
          accessibilityPanel.style.display = "none";
        }, 300); // Sesuaikan dengan durasi transisi
      }
    });

    // Mencegah panel tertutup saat mengklik di dalam panel
    accessibilityPanel.addEventListener("click", function(e) {
      e.stopPropagation();
    });

    // Accessibility Settings
    const lightDarkSelect = document.getElementById("lightDark");
    const highContrastToggle = document.getElementById("highContrast");
    const dyslexiaToggle = document.getElementById("dyslexia");
    const textToSpeechToggle = document.getElementById("textToSpeech");
    const magnificationToggle = document.getElementById("magnification");
    const keyboardNavToggle = document.getElementById("keyboardNav");
    const reducedMotionToggle = document.getElementById("reducedMotion");
    const colorBlindSelect = document.getElementById("colorBlind");
    const languageSelect = document.getElementById("language");

    // Light/Dark Mode
    lightDarkSelect.addEventListener("change", function() {
      document.body.classList.remove("dark-mode");
      if (lightDarkSelect.value === "dark") {
        document.body.classList.add("dark-mode");
      }
    });

    // High Contrast
    highContrastToggle.addEventListener("change", function() {
      document.body.classList.toggle("high-contrast", highContrastToggle.checked);
    });

    // Dyslexia Mode
    dyslexiaToggle.addEventListener("change", function() {
      document.body.classList.toggle("dyslexia-mode", dyslexiaToggle.checked);
    });

    // Text-to-Speech
    let speechSynthesis = window.speechSynthesis;
    let currentUtterance = null;
    const ttsControls = document.getElementById("ttsControls");
    const playTTS = document.getElementById("playTTS");
    const pauseTTS = document.getElementById("pauseTTS");
    const stopTTS = document.getElementById("stopTTS");
    const voiceSelect = document.getElementById("voiceSelect");
    const rateControl = document.getElementById("rateControl");

    // Populate voice options
    function populateVoiceList() {
      if (speechSynthesis.onvoiceschanged !== undefined) {
        speechSynthesis.onvoiceschanged = populateVoiceList;
      }
      
      const voices = speechSynthesis.getVoices();
      voiceSelect.innerHTML = '';
      
      voices.forEach(voice => {
        const option = document.createElement('option');
        option.textContent = `${voice.name} (${voice.lang})`;
        option.setAttribute('data-lang', voice.lang);
        option.setAttribute('data-name', voice.name);
        voiceSelect.appendChild(option);
      });
    }

    populateVoiceList();

    textToSpeechToggle.addEventListener("change", function() {
      if (textToSpeechToggle.checked) {
        ttsControls.style.display = "block";
      } else {
        ttsControls.style.display = "none";
        if (currentUtterance) {
          speechSynthesis.cancel();
        }
      }
    });

    playTTS.addEventListener("click", function() {
      if (currentUtterance) {
        speechSynthesis.resume();
      } else {
        const textToRead = document.body.innerText;
        currentUtterance = new SpeechSynthesisUtterance(textToRead);
        
        const selectedVoice = voiceSelect.selectedOptions[0].getAttribute('data-name');
        const voices = speechSynthesis.getVoices();
        currentUtterance.voice = voices.find(voice => voice.name === selectedVoice);
        currentUtterance.rate = rateControl.value;
        
        currentUtterance.onend = function() {
          currentUtterance = null;
        };
        
        speechSynthesis.speak(currentUtterance);
      }
    });

    pauseTTS.addEventListener("click", function() {
      speechSynthesis.pause();
    });

    stopTTS.addEventListener("click", function() {
      speechSynthesis.cancel();
      currentUtterance = null;
    });

    // Magnification
    magnificationToggle.addEventListener("change", function() {
      document.body.classList.toggle("magnified", magnificationToggle.checked);
    });

    // Keyboard Navigation
    keyboardNavToggle.addEventListener("change", function() {
      document.body.classList.toggle("keyboard-navigation", keyboardNavToggle.checked);
    });

    // Reduced Motion
    reducedMotionToggle.addEventListener("change", function() {
      document.body.classList.toggle("reduced-motion", reducedMotionToggle.checked);
    });

    // Color Blind Mode
    colorBlindSelect.addEventListener("change", function() {
      document.body.classList.remove("protanopia", "deuteranopia", "tritanopia");
      if (colorBlindSelect.value !== "none") {
        document.body.classList.add(colorBlindSelect.value);
      }
    });

    // Language
    languageSelect.addEventListener("change", function() {
      document.body.classList.remove("english", "indonesian");
      document.body.classList.add(languageSelect.value);
    });

    window.addEventListener("load", function() {
      typeWriter();
      updateClock();
      setInterval(updateClock, 1000);
    });
  </script>
</body>
</html>
